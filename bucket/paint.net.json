{
    "version": "4.3.1",
    "description": "Image and photo editor",
    "homepage": "https://www.getpaint.net",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.getpaint.net/license.html"
    },
    "notes": ".NET 4.7.2 is required",
    "architecture": {
        "64bit": {
            "url": "https://github.com/paintdotnet/release/releases/download/v4.3.1/paint.net.4.3.1.install.x64.zip",
            "hash": "6ddfcda55aa8a47b576f344e14bba2630e5e774a6df8817a75f56a0710e9707c"
        },
        "32bit": {
            "url": "https://github.com/paintdotnet/release/releases/download/v4.3.1/paint.net.4.3.1.install.x86.zip",
            "hash": "8228b32d26e2240657fabd80c75d69e1903b6b8c27ca7eef47f698f0338715b7"
        }
    },
    "pre_install": [
        "$_arch = $fname -replace '.*\\.install\\.(x\\d+)\\..*', '$1'",
        "$_extract = if ($_arch -eq 'x64') { '64' } else { '' }",
        "Expand-7zipArchive \"$dir\\$($fname -replace '.zip$').exe\" \"$dir\\tmp\" -Removal",
        "Expand-MsiArchive \"$dir\\tmp\\${_arch}\\PaintDotNet_${_arch}.msi\" \"$dir\" -ExtractDir \"ProgramFiles${_extract}Folder\\paint.net\"",
        "Remove-Item \"$dir\\tmp\" -Recurse -Force",
        "",
        "#Set-Content \"$dir\\PaintDotNet.AppSettings.json\" '{}' -Encoding Ascii",
        "#$config = [xml](Get-Content \"$dir\\PaintDotNet.exe.config\")",
        "#$elem = $config.CreateElement('add')",
        "#$elem.SetAttribute('key', 'PaintDotNet.EnablePortableMode')",
        "#$elem.SetAttribute('value', 'true')",
        "#[void]$config.configuration.appSettings.appendChild($elem)",
        "#$config.Save(\"$dir\\PaintDotNet.exe.config\")"
    ],
    "bin": "paintdotnet.exe",
    "shortcuts": [
        [
            "PaintDotNet.exe",
            "paint.net"
        ]
    ],
    "persist": [
        "Effects",
        "FileTypes",
        "Shapes",
        "PaintDotNet.AppSettings.json"
    ],
    "checkver": "paint\\.net\\s+([\\d.]+)"
}
